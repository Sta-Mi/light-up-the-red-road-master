{"version":3,"file":"pages/userRegister/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://mbti-test-mini/./src/pages/userRegister/index.tsx?37bb","webpack://mbti-test-mini/._src_pages_userRegister_index.tsx"],"sourcesContent":["import _classCallCheck from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { Button, Form, Input, Label, View } from \"@tarojs/components\";\nimport Taro from \"@tarojs/taro\";\nimport React, { Component } from \"react\";\nimport { postUserLogin } from \"../../utils/functionUtils\";\nimport \"./index.scss\";\n\n/**\n * 登录页面\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar UserRegisterPage = /*#__PURE__*/function (_Component) {\n  function UserRegisterPage() {\n    var _this;\n    _classCallCheck(this, UserRegisterPage);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, UserRegisterPage, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      showAccountAlter: 'none',\n      showPassAlter: 'none',\n      showCheckPassAlter: 'none',\n      userPassword: '',\n      userCheckPassword: ''\n    });\n    // 提交表单\n    _defineProperty(_this, \"formSubmit\", function (e) {\n      if (_this.state.showAccountAlter != \"none\" || _this.state.showPassAlter != \"none\" || _this.state.showCheckPassAlter != \"none\") {\n        Taro.showToast({\n          title: \"请满足校验条件\",\n          icon: \"error\"\n        });\n        return;\n      }\n      // console.log(\"form submit\",e);\n      var userAccount = e.detail.value.userAccount;\n      var userPassword = e.detail.value.userPassword;\n      var checkPassword = e.detail.value.checkPassword;\n      console.log(\"调用接口前\", userAccount, userPassword, checkPassword);\n      //调用后端登录接口\n      Taro.request({\n        url: \"http://127.0.0.1:8101/api/user/register\",\n        method: \"POST\",\n        data: {\n          userAccount: userAccount,\n          userPassword: userPassword,\n          checkPassword: checkPassword\n        }\n      }).then(function (res) {\n        // console.log(\"success\",userAccount,userPassword,checkPassword);\n        //成功后跳转到登录\n        if (res.data.data) {\n          postUserLogin(userAccount, userPassword);\n        } else {\n          Taro.showToast({\n            title: res.data.message,\n            icon: \"none\"\n          });\n        }\n      }).catch(function () {\n        console.log(\"注册失败！\");\n      });\n    });\n    _defineProperty(_this, \"accountLoseFocus\", function (e) {\n      _this.setState({\n        showAccountAlter: e.currentTarget.cursor < 4 ? 'block' : 'none'\n      });\n    });\n    _defineProperty(_this, \"passLoseFocus\", function (e) {\n      _this.setState({\n        showPassAlter: e.currentTarget.cursor < 8 ? 'block' : 'none',\n        userPassword: e.currentTarget.value\n      });\n      if (_this.state.userPassword === _this.state.userCheckPassword) {\n        _this.setState({\n          showCheckPassAlter: 'none'\n        });\n      }\n    });\n    _defineProperty(_this, \"checkPassLoseFocus\", function (e) {\n      _this.setState({\n        showCheckPassAlter: e.currentTarget.cursor < 8 || e.currentTarget.value != _this.state.userPassword ? 'block' : 'none',\n        userCheckPassword: e.currentTarget.value\n      });\n    });\n    _defineProperty(_this, \"naviToLogin\", function () {\n      Taro.redirectTo({\n        url: \"/pages/index/index\"\n      });\n    });\n    return _this;\n  }\n  _inherits(UserRegisterPage, _Component);\n  return _createClass(UserRegisterPage, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxs(View, {\n        className: \"userRegisterPage\",\n        children: [/*#__PURE__*/_jsx(View, {\n          className: \"register-title at-article__h1\",\n          children: \"\\u521B\\u5EFA\\u8D26\\u6237\"\n        }), /*#__PURE__*/_jsxs(Form, {\n          className: \"registrationForm\",\n          onSubmit: this.formSubmit,\n          children: [/*#__PURE__*/_jsxs(View, {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsx(Label, {\n              className: \"input-column-name\",\n              for: \"userAccount\",\n              children: \"*\\u7528\\u6237\\u540D\"\n            }), /*#__PURE__*/_jsx(Input, {\n              className: \"input-column\",\n              type: \"text\",\n              name: \"userAccount\",\n              placeholder: \"\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n              onBlur: this.accountLoseFocus\n            }), /*#__PURE__*/_jsx(Label, {\n              className: \"input-column-alter\",\n              style: {\n                display: this.state.showAccountAlter\n              },\n              children: \"\\u81F3\\u5C114\\u4E2A\\u5B57\\u7B26\"\n            })]\n          }), /*#__PURE__*/_jsxs(View, {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsx(Label, {\n              className: \"input-column-name\",\n              for: \"userPassword\",\n              children: \"*\\u5BC6\\u7801\"\n            }), /*#__PURE__*/_jsx(Input, {\n              className: \"input-column\",\n              password: true,\n              type: \"text\",\n              name: \"userPassword\",\n              placeholder: \"\\u8F93\\u5165\\u5BC6\\u7801\",\n              onBlur: this.passLoseFocus\n            }), /*#__PURE__*/_jsx(Label, {\n              className: \"input-column-alter\",\n              style: {\n                display: this.state.showPassAlter\n              },\n              children: \"\\u81F3\\u5C118\\u4E2A\\u5B57\\u7B26\"\n            })]\n          }), /*#__PURE__*/_jsxs(View, {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsx(Label, {\n              className: \"input-column-name\",\n              for: \"checkPassword\",\n              children: \"*\\u786E\\u8BA4\\u5BC6\\u7801\"\n            }), /*#__PURE__*/_jsx(Input, {\n              className: \"input-column\",\n              password: true,\n              type: \"text\",\n              name: \"checkPassword\",\n              placeholder: \"\\u786E\\u8BA4\\u5BC6\\u7801\",\n              onBlur: this.checkPassLoseFocus\n            }), /*#__PURE__*/_jsx(Label, {\n              className: \"input-column-alter\",\n              style: {\n                display: this.state.showCheckPassAlter\n              },\n              children: \"\\u4E24\\u6B21\\u8F93\\u5165\\u4E0D\\u4E00\\u81F4\"\n            })]\n          }), /*#__PURE__*/_jsx(Button, {\n            className: \"btn-register\",\n            formType: \"submit\",\n            children: \"\\u6CE8\\u518C\"\n          })]\n        }), /*#__PURE__*/_jsx(View, {\n          className: \"footer-register\",\n          children: /*#__PURE__*/_jsxs(View, {\n            className: \"register-footer-info\",\n            children: [\"\\u5DF2\\u7ECF\\u6709\\u8D26\\u6237\\uFF1F\", /*#__PURE__*/_jsx(View, {\n              className: \"to-navigator\",\n              onClick: this.naviToLogin,\n              children: \"\\u53BB\\u767B\\u5F55\"\n            })]\n          })\n        })]\n      });\n    }\n  }]);\n}(Component);\nexport { UserRegisterPage as default };","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/userRegister/index!./index.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/userRegister/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}