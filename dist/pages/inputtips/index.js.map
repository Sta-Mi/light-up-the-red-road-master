{"version":3,"file":"pages/inputtips/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://mbti-test-mini/./src/pages/inputtips/index.tsx?4c91","webpack://mbti-test-mini/._src_pages_inputtips_index.tsx"],"sourcesContent":["import _classCallCheck from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { Image, Input, View } from \"@tarojs/components\";\nimport Taro from \"@tarojs/taro\";\nimport React, { Component } from \"react\";\nimport amapFile from \"../../libs/amap-wx\";\nimport config from \"../../libs/config\";\nimport returnIcon from \"../../assets/arrow_s_line_left.png\";\nimport \"./index.scss\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar lonlat;\nvar city;\nvar InputtipsPage = /*#__PURE__*/function (_Component) {\n  function InputtipsPage() {\n    var _this;\n    _classCallCheck(this, InputtipsPage);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, InputtipsPage, [].concat(args));\n    _defineProperty(_this, \"$instance\", Taro.getCurrentInstance());\n    _defineProperty(_this, \"state\", {\n      tips: [],\n      isFocus: true\n    });\n    _defineProperty(_this, \"bindInput\", function (e) {\n      var that = _this;\n      var keywords = e.target.value;\n      var key = config.Config.key;\n      var myAmapFun = new amapFile.AMapWX({\n        key: key\n      });\n      myAmapFun.getInputtips({\n        keywords: keywords,\n        location: lonlat,\n        city: city,\n        success: function success(data) {\n          console.log(\"搜索页面data：\", data);\n          if (data && data.tips) {\n            that.setState({\n              tips: data.tips\n            });\n          }\n        }\n      });\n    });\n    _defineProperty(_this, \"bindSearch\", function (e) {\n      var keywords = e.currentTarget.dataset.keywords;\n      var locationArray = e.currentTarget.dataset.location.split(',');\n      var keywordsLongitude = parseFloat(locationArray[0]);\n      var keywordsLatitude = parseFloat(locationArray[1]);\n      var url = \"/pages/poi/index?searchKeywords=\".concat(keywords, \"&searchLatitude=\").concat(keywordsLatitude, \"&searchLongitude=\").concat(keywordsLongitude);\n      console.log(\"搜索页面URL:\", url);\n      // Taro.setStorageSync(\"keywords\",keywords);\n      // Taro.setStorageSync(\"latitude\",keywordsLatitude);\n      // Taro.setStorageSync(\"longitude\",keywordsLongitude);\n\n      Taro.navigateTo({\n        url: url\n        // url: \"/pages/poi/index\",\n      });\n    });\n    _defineProperty(_this, \"redirectToPoiPage\", function () {\n      Taro.redirectTo({\n        url: '/pages/poi/index'\n      });\n    });\n    return _this;\n  }\n  _inherits(InputtipsPage, _Component);\n  return _createClass(InputtipsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$$instance$route;\n      //因为poi的bindInput()函数传递了路由参数\n      var paramsFromPoi = (_this$$instance$route = this.$instance.router) === null || _this$$instance$route === void 0 ? void 0 : _this$$instance$route.params;\n      lonlat = paramsFromPoi === null || paramsFromPoi === void 0 ? void 0 : paramsFromPoi.lonlat;\n      console.log(\"搜索页面加载时instance.router.params：\", paramsFromPoi);\n      console.log(\"搜索页面加载时，是否获取到了lonlat和cicy：\", lonlat);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var tips = this.state.tips;\n      return /*#__PURE__*/_jsxs(View, {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsx(Image, {\n          style: {\n            width: '27px',\n            height: '27px'\n          },\n          className: \"redirect_to_poi_page\",\n          mode: \"scaleToFill\",\n          src: returnIcon,\n          onClick: this.redirectToPoiPage\n        }), /*#__PURE__*/_jsx(Input, {\n          className: \"section-input\",\n          onInput: this.bindInput.bind(this),\n          placeholder: \"\\u641C\\u7D22\",\n          focus: true\n        }), tips.map(function (_ref) {\n          var location = _ref.location,\n            name = _ref.name;\n          return /*#__PURE__*/_jsx(View, {\n            \"data-keywords\": name,\n            \"data-location\": location,\n            className: \"text_box\",\n            onClick: _this2.bindSearch.bind(_this2),\n            children: name\n          }, name);\n        })]\n      });\n    }\n  }]);\n}(Component);\nexport default InputtipsPage;","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/inputtips/index!./index.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/inputtips/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}