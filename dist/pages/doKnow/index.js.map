{"version":3,"file":"pages/doKnow/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://mbti-test-mini/./src/pages/doKnow/index.tsx?bdcf","webpack://mbti-test-mini/._src_pages_doKnow_index.tsx"],"sourcesContent":["import _slicedToArray from \"E:/dianlianghongtu/dianlianghongtu/hongtu-test-mini/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { View } from \"@tarojs/components\";\nimport Taro from \"@tarojs/taro\";\nimport { AtButton, AtCountdown, AtProgress, AtRadio, AtTag } from \"taro-ui\";\nimport { useEffect, useState } from \"react\";\nimport GlobalFooter from \"../../components/GlobalFooter\";\nimport questions from \"../../data/knowQuestions.json\";\nimport \"./index.scss\";\n\n/**\n * 答题闯关页面\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default (function () {\n  //第一步：获取当前是哪个展馆的答题->获取不同的题库(获取know页面跳转到当前页的selectKey)\n  //第二步：编写样式\n  //第三步：实现写题\n  // 当前题目序号（从 1 开始）\n  var _useState = useState(1),\n    _useState2 = _slicedToArray(_useState, 2),\n    current = _useState2[0],\n    setCurrent = _useState2[1];\n  // 当前题目\n  var _useState3 = useState(questions[0]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentQuestion = _useState4[0],\n    setCurrentQuestion = _useState4[1];\n  var questionOptions = currentQuestion.options.map(function (option) {\n    return {\n      label: \"\".concat(option.key, \". \").concat(option.value),\n      value: option.key\n    };\n  });\n  // 当前答案\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentAnswer = _useState6[0],\n    setCurrentAnswer = _useState6[1];\n  // 回答列表\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 1),\n    answerList = _useState8[0];\n  //页面加载前\n  useEffect(function () {\n    //获取当前题目和选项\n    setCurrentQuestion(questions[current - 1]);\n    setCurrentAnswer(answerList[current - 1]);\n  }, [current]);\n\n  // 计时器\n  var onTimeUp = function onTimeUp() {\n    Taro.showToast({\n      title: \"时间到\",\n      icon: \"error\",\n      duration: 2000\n    });\n    //直接答案解析页面\n    // 传递答案\n    Taro.setStorageSync(\"answerList\", answerList);\n    // 跳转到结果页面\n    Taro.navigateTo({\n      url: \"/pages/knowResult/index\"\n    });\n  };\n  return (\n    /*#__PURE__*/\n    //<View>\n    //<Text>当前的 key 是: {selectKey}</Text>\n    //</View>\n    _jsxs(View, {\n      className: \"doKnowPage\",\n      children: [/*#__PURE__*/_jsx(View, {\n        className: \"at-article__h1 title\",\n        children: \"\\u7EA2\\u8272\\u5C55\\u9986\\u77E5\\u8BC6\\u95EF\\u5173\"\n      }), /*#__PURE__*/_jsxs(View, {\n        className: \"progressView\",\n        children: [/*#__PURE__*/_jsxs(View, {\n          className: \"progressTimeView\",\n          children: [/*#__PURE__*/_jsxs(View, {\n            className: \"progressText\",\n            children: [current, \"/\", questions.length]\n          }), /*#__PURE__*/_jsx(AtCountdown, {\n            isShowHour: false,\n            minutes: 5,\n            seconds: 0,\n            className: \"progressTime\",\n            onTimeUp: onTimeUp\n          })]\n        }), /*#__PURE__*/_jsx(AtProgress, {\n          percent: parseInt(current + \"0\"),\n          strokeWidth: 10,\n          color: \"#FFFFFF\",\n          status: \"progress\",\n          className: \"progressBar\"\n        })]\n      }), /*#__PURE__*/_jsxs(View, {\n        className: \"questionView\",\n        children: [/*#__PURE__*/_jsxs(View, {\n          className: \"questionTitle\",\n          children: [/*#__PURE__*/_jsx(AtTag, {\n            className: \"questionType\",\n            children: \"\\u5355\\u9009\"\n          }), /*#__PURE__*/_jsx(View, {\n            className: \"at-article__h2 subTitle\",\n            children: currentQuestion.title\n          })]\n        }), /*#__PURE__*/_jsx(View, {\n          className: \"options-wrapper\",\n          children: /*#__PURE__*/_jsx(AtRadio, {\n            className: \"optionItem\",\n            options: questionOptions,\n            value: currentAnswer,\n            onClick: function onClick(value) {\n              setCurrentAnswer(value);\n              // 记录回答\n              answerList[current - 1] = value;\n            }\n          })\n        }), current < questions.length && /*#__PURE__*/_jsx(AtButton, {\n          type: \"primary\",\n          className: \"controlBtn\",\n          disabled: !currentAnswer,\n          onClick: function onClick() {\n            return setCurrent(current + 1);\n          },\n          children: \"\\u4E0B\\u4E00\\u9898\"\n        }), current == questions.length && /*#__PURE__*/_jsx(AtButton, {\n          type: \"primary\",\n          className: \"controlBtn\",\n          disabled: !currentAnswer,\n          onClick: function onClick() {\n            // 传递答案\n            Taro.setStorageSync(\"answerList\", answerList);\n            // 跳转到结果页面\n            Taro.navigateTo({\n              url: \"/pages/knowResult/index\"\n            });\n          },\n          children: \"\\u63D0\\u4EA4\\u7B54\\u6848\"\n        }), current > 1 && /*#__PURE__*/_jsx(AtButton, {\n          className: \"controlBtn\",\n          onClick: function onClick() {\n            return setCurrent(current - 1);\n          },\n          children: \"\\u4E0A\\u4E00\\u9898\"\n        })]\n      }), /*#__PURE__*/_jsx(GlobalFooter, {})]\n    })\n  );\n});","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/doKnow/index!./index.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/doKnow/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}